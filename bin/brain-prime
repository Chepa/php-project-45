#!/usr/bin/env php

<?php

include '/vendor/autoload.php';

use function cli\line;
use function cli\prompt;

line('Welcome to the Brain Games!');
$name = prompt('May I have your name?');
line("Hello, $name!");

line('Answer "yes" if given number is prime. Otherwise answer "no".');

function isPrime($num)
{
    $num = (int)$num;

    if ($num < 2) {
        return false;
    }
    for ($i = 2; $i < $num; $i++) {
        if ($num % $i == 0) {
            return false;
        }
    }

    return true;
}

$totalGames = 3;
$successful = 0;
for ($i = 0; $i < $totalGames; $i++) {
    $number = rand(1, 100);
    $result = isPrime($number) ? 'yes' : 'no';
    $answer = prompt('Question: ' . $number, false, ': ', true);
    line('Your answer: ' . $answer);

    if ($result == $answer) {
        $successful++;
        line('Correct!');
    } else {
        line("'$answer' is wrong answer ;(. Correct answer was '$result'.");
    }
}

if ($successful == $totalGames) {
    line("Congratulations, $name!");
} else {
    line("Let's try again, $name!");
}



